<div class="breadcrumb-wrapper">
    <p-breadcrumb [model]="bcItems"></p-breadcrumb>
</div>
<h2>User Edit : </h2>

<div class="row">
    <div class="col-md-8">
        <form [formGroup]="editForm" (ngSubmit)="save()" novalidate>
            <div [class.has-error]="username.invalid && (username.dirty || username.touched)">
                <div class="form-group">
                    <input name="username" id="username" class="form-control" formControlName="username" [(ngModel)]="user.username" placeholder="User Name">
                    <div *ngIf="username.invalid && (username.dirty || username.touched)">
                        <div *ngIf="username.errors.required">
                            <span class="help-block">Ce champ est obligatoir</span>
                        </div>
                    </div>
                </div>
            </div>

            <div [class.has-error]="password.invalid && (username.dirty || username.touched)">
                <div class="form-group">
                    <input name="password" id="password" type="password" class="form-control" formControlName="password" [(ngModel)]="user.password" placeholder="Password">
                    <div *ngIf="password.invalid && (password.dirty || password.touched)">
                        <div *ngIf="password.errors.required">
                            <span class="help-block">Ce champ est obligatoir</span>
                        </div>
                    </div>
                </div>
            </div>

            <div [class.has-error]="email.invalid && (email.dirty || email.touched)">
                <div class="form-group">
                    <input name="email" id="email" class="form-control" formControlName="email" [(ngModel)]="user.email" placeholder="Email">
                    <div *ngIf="email.invalid && (email.dirty || email.touched)">
                        <div *ngIf="email.errors.required">
                            <span class="help-block">Ce champ est obligatoir</span>
                        </div>
                        <div *ngIf="email.errors.email">
                            <span class="help-block">Invalid email</span>
                        </div>
                    </div>
                </div>
            </div>

            <div [class.has-error]="firstname.invalid && (firstname.dirty || firstname.touched)">
                <div class="form-group">
                    <input name="firstname" id="firstname" class="form-control" formControlName="firstname" [(ngModel)]="user.firstname" placeholder="First Name">
                    <div *ngIf="firstname.invalid && (firstname.dirty || firstname.touched)">
                        <div *ngIf="firstname.errors.required">
                            <span class="help-block">Ce champ est obligatoir</span>
                        </div>
                    </div>
                </div>
            </div>

            <div [class.has-error]="lastname.invalid && (lastname.dirty || lastname.touched)">
                <div class="form-group">
                    <input name="lastname" id="lastname" class="form-control" formControlName="lastname" [(ngModel)]="user.lastname" placeholder="Last Name">
                    <div *ngIf="lastname.invalid && (lastname.dirty || lastname.touched)">
                        <div *ngIf="lastname.errors.required">
                            <span class="help-block">Ce champ est obligatoir</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row pull-right">
                <div class="col-md-12">
                    <button class="btn btn-default" (click)="cancel()">CANCEL</button>
                    <button type="submit" class="btn btn-primary" [disabled]="!editForm.valid">SAVE</button>
                </div>
            </div>
        </form>
    </div>
</div>

<simple-notifications [options]="{position: ['bottom', 'right'], clickToClose: true, maxLength: 100}"></simple-notifications>